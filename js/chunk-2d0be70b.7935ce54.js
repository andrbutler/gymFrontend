(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0be70b"],{"2fef":function(e,i,a){"use strict";a.r(i);var t=function(){var e=this,i=e.$createElement,a=e._self._c||i;return a("div",{staticClass:"box",attrs:{id:"authenticate"}},[a("h1",{staticClass:"content is-large"},[e._v(e._s(e.loginMessage))]),a("b-field",{attrs:{label:"Username"}},[a("b-input",{attrs:{placeholder:"",maxlength:"45",minlength:"4",required:""},nativeOn:{input:function(i){return e.validateUsername(i.target.validity.valid)}},model:{value:e.username,callback:function(i){e.username=i},expression:"username"}})],1),a("b-field",{attrs:{label:"Password"}},[a("b-input",{attrs:{type:"password",maxlength:"36",minlength:"6",placeholder:"","password-reveal":"",required:""},nativeOn:{input:function(i){return e.validatePassword(i.target.validity.valid)}},model:{value:e.password,callback:function(i){e.password=i},expression:"password"}})],1),e.isSignup?a("b-field",{attrs:{label:"Email"}},[a("b-input",{attrs:{placeholder:"Email",type:"email",icon:"email",required:""},nativeOn:{input:function(i){return e.validateEmail(i.target.validity.valid)}},model:{value:e.email,callback:function(i){e.email=i},expression:"email"}})],1):e._e(),e.isSignup?a("a",{on:{click:e.changeType}},[e._v("alredy a member? click here to sign-in instead?")]):a("a",{on:{click:e.changeType}},[e._v("not a member? click here to sign up instead")]),a("div",{staticClass:"buttons is-right"},[a("b-button",{attrs:{disabled:!e.authorizeValidity,type:"is-success"},on:{click:e.authorize}},[e._v(" "+e._s(e.loginMessage)+" ")])],1)],1)},s=[],n={data:function(){return{email:"",emailValid:!1,username:"",usernameValid:!1,password:"",passwordValid:!1,isSignup:!1,loginMessage:"Sign In",authorizeValidity:!1}},methods:{validateUsername:function(e){this.usernameValid=e,this.setAuthorizeValidity()},validateEmail:function(e){this.emailValid=e,this.setAuthorizeValidity()},validatePassword:function(e){this.passwordValid=e,this.setAuthorizeValidity()},setAuthorizeValidity:function(){this.isSignup?this.emailValid&&this.usernameValid&&this.passwordValid?this.authorizeValidity=!0:this.authorizeValidity=!1:this.usernameValid&&this.passwordValid?this.authorizeValidity=!0:this.authorizeValidity=!1},changeType:function(){this.isSignup=!this.isSignup,this.setAuthorizeValidity(),this.isSignup?this.loginMessage="Sign Up":this.loginMessage="Sign In"},authorize:function(){var e=this;if(this.isSignup){var i={email:this.email,username:this.username,password:this.password};this.axios.post("auth/signup",i).then((function(){var i={username:e.username,password:e.password};e.axios.post("auth/signin",i).then((function(i){e.$store.dispatch("signIn",{token:i.data.accessToken}),e.axios.get("users/current",{headers:{Authorization:"Bearer "+e.$store.state.authToken}}).then((function(i){e.$store.dispatch("userInfo",i.data),e.$router.push("dash")}),(function(i){e.$buefy.dialog.alert(i.response.data.message)}))}),(function(i){e.$buefy.dialog.alert(i.response.data.message)}))}),(function(i){e.$buefy.dialog.alert(i.response.data.message)}))}else{var a={username:this.username,password:this.password};this.axios.post("auth/signin",a).then((function(i){e.$store.dispatch("signIn",{token:i.data.accessToken}),e.axios.get("users/current",{headers:{Authorization:"Bearer "+e.$store.state.authToken}}).then((function(i){e.$store.dispatch("userInfo",i.data),e.$router.push("dash")}),(function(i){e.$buefy.dialog.alert(i.response.data.message)}))}),(function(i){e.$buefy.dialog.alert(i.response.data.message)}))}}}},r=n,o=a("2877"),l=Object(o["a"])(r,t,s,!1,null,null,null);i["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d0be70b.7935ce54.js.map