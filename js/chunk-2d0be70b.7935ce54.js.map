{"version":3,"sources":["webpack:///./src/views/Auth.vue?8d23","webpack:///src/views/Auth.vue","webpack:///./src/views/Auth.vue?a878","webpack:///./src/views/Auth.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","loginMessage","nativeOn","$event","validateUsername","target","validity","valid","model","value","callback","$$v","username","expression","validatePassword","password","validateEmail","email","_e","on","changeType","authorizeValidity","authorize","staticRenderFns","data","emailValid","usernameValid","passwordValid","isSignup","methods","e","setAuthorizeValidity","axios","post","signupRequest","then","signInRequest","component"],"mappings":"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","file":"js/chunk-2d0be70b.7935ce54.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\",attrs:{\"id\":\"authenticate\"}},[_c('h1',{staticClass:\"content is-large\"},[_vm._v(_vm._s(_vm.loginMessage))]),_c('b-field',{attrs:{\"label\":\"Username\"}},[_c('b-input',{attrs:{\"placeholder\":\"\",\"maxlength\":\"45\",\"minlength\":\"4\",\"required\":\"\"},nativeOn:{\"input\":function($event){return _vm.validateUsername($event.target.validity.valid)}},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}})],1),_c('b-field',{attrs:{\"label\":\"Password\"}},[_c('b-input',{attrs:{\"type\":\"password\",\"maxlength\":\"36\",\"minlength\":\"6\",\"placeholder\":\"\",\"password-reveal\":\"\",\"required\":\"\"},nativeOn:{\"input\":function($event){return _vm.validatePassword($event.target.validity.valid)}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),(_vm.isSignup)?_c('b-field',{attrs:{\"label\":\"Email\"}},[_c('b-input',{attrs:{\"placeholder\":\"Email\",\"type\":\"email\",\"icon\":\"email\",\"required\":\"\"},nativeOn:{\"input\":function($event){return _vm.validateEmail($event.target.validity.valid)}},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}})],1):_vm._e(),(_vm.isSignup)?_c('a',{on:{\"click\":_vm.changeType}},[_vm._v(\"alredy a member? click here to sign-in instead?\")]):_c('a',{on:{\"click\":_vm.changeType}},[_vm._v(\"not a member? click here to sign up instead\")]),_c('div',{staticClass:\"buttons is-right\"},[_c('b-button',{attrs:{\"disabled\":!_vm.authorizeValidity,\"type\":\"is-success\"},on:{\"click\":_vm.authorize}},[_vm._v(\" \"+_vm._s(_vm.loginMessage)+\" \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"authenticate\" class=\"box\">\r\n    <h1 class=\"content is-large\">{{ loginMessage }}</h1>\r\n    <b-field label=\"Username\">\r\n      <b-input\r\n        v-model=\"username\"\r\n        placeholder=\"\"\r\n        maxlength=\"45\"\r\n        minlength=\"4\"\r\n        required\r\n        @input.native=\"validateUsername($event.target.validity.valid)\"\r\n      ></b-input>\r\n    </b-field>\r\n\r\n    <b-field label=\"Password\">\r\n      <b-input\r\n        v-model=\"password\"\r\n        type=\"password\"\r\n        maxlength=\"36\"\r\n        minlength=\"6\"\r\n        placeholder=\"\"\r\n        password-reveal\r\n        required\r\n        @input.native=\"validatePassword($event.target.validity.valid)\"\r\n      >\r\n      </b-input>\r\n    </b-field>\r\n    <b-field v-if=\"isSignup\" label=\"Email\">\r\n      <b-input\r\n        placeholder=\"Email\"\r\n        v-model=\"email\"\r\n        type=\"email\"\r\n        icon=\"email\"\r\n        required\r\n        @input.native=\"validateEmail($event.target.validity.valid)\"\r\n      >\r\n      </b-input>\r\n    </b-field>\r\n\r\n    <a v-if=\"isSignup\" @click=\"changeType\"\r\n      >alredy a member? click here to sign-in instead?</a\r\n    >\r\n    <a v-else @click=\"changeType\"\r\n      >not a member? click here to sign up instead</a\r\n    >\r\n\r\n    <div class=\"buttons is-right\">\r\n      <b-button\r\n        :disabled=\"!authorizeValidity\"\r\n        type=\"is-success\"\r\n        @click=\"authorize\"\r\n      >\r\n        {{ loginMessage }}\r\n      </b-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      email: \"\",\r\n      emailValid: false,\r\n      username: \"\",\r\n      usernameValid: false,\r\n      password: \"\",\r\n      passwordValid: false,\r\n      isSignup: false,\r\n      loginMessage: \"Sign In\",\r\n      authorizeValidity: false,\r\n    };\r\n  },\r\n  methods: {\r\n    validateUsername(e) {\r\n      this.usernameValid = e;\r\n      this.setAuthorizeValidity();\r\n    },\r\n    validateEmail(e) {\r\n      this.emailValid = e;\r\n      this.setAuthorizeValidity();\r\n    },\r\n    validatePassword(e) {\r\n      this.passwordValid = e;\r\n      this.setAuthorizeValidity();\r\n    },\r\n    setAuthorizeValidity() {\r\n      if (this.isSignup) {\r\n        if (this.emailValid && this.usernameValid && this.passwordValid) {\r\n          this.authorizeValidity = true;\r\n        } else {\r\n          this.authorizeValidity = false;\r\n        }\r\n      } else {\r\n        if (this.usernameValid && this.passwordValid) {\r\n          this.authorizeValidity = true;\r\n        } else {\r\n          this.authorizeValidity = false;\r\n        }\r\n      }\r\n    },\r\n    changeType() {\r\n      this.isSignup = !this.isSignup;\r\n      this.setAuthorizeValidity();\r\n      if (this.isSignup) {\r\n        this.loginMessage = \"Sign Up\";\r\n      } else {\r\n        this.loginMessage = \"Sign In\";\r\n      }\r\n    },\r\n\r\n    authorize() {\r\n      if (this.isSignup) {\r\n        let signupRequest = {\r\n          email: this.email,\r\n          username: this.username,\r\n          password: this.password,\r\n        };\r\n        this.axios.post(\"auth/signup\", signupRequest).then(\r\n          () => {\r\n            let signInRequest = {\r\n              username: this.username,\r\n              password: this.password,\r\n            };\r\n            this.axios.post(\"auth/signin\", signInRequest).then(\r\n              (res) => {\r\n                this.$store.dispatch(\"signIn\", { token: res.data.accessToken });\r\n\r\n                this.axios\r\n                  .get(\"users/current\", {\r\n                    headers: {\r\n                      Authorization: \"Bearer \" + this.$store.state.authToken,\r\n                    },\r\n                  })\r\n                  .then(\r\n                    (res) => {\r\n                      this.$store.dispatch(\"userInfo\", res.data);\r\n                      this.$router.push(\"dash\");\r\n                    },\r\n                    (err) => {\r\n                      this.$buefy.dialog.alert(err.response.data.message);\r\n                    }\r\n                  );\r\n              },\r\n              (err) => {\r\n                this.$buefy.dialog.alert(err.response.data.message);\r\n              }\r\n            );\r\n          },\r\n          (err) => {\r\n            this.$buefy.dialog.alert(err.response.data.message);\r\n          }\r\n        );\r\n      } else {\r\n        let signInRequest = {\r\n          username: this.username,\r\n          password: this.password,\r\n        };\r\n        this.axios.post(\"auth/signin\", signInRequest).then(\r\n          (res) => {\r\n            this.$store.dispatch(\"signIn\", { token: res.data.accessToken });\r\n\r\n            this.axios\r\n              .get(\"users/current\", {\r\n                headers: {\r\n                  Authorization: \"Bearer \" + this.$store.state.authToken,\r\n                },\r\n              })\r\n              .then(\r\n                (res) => {\r\n                  this.$store.dispatch(\"userInfo\", res.data);\r\n                  this.$router.push(\"dash\");\r\n                },\r\n                (err) => {\r\n                  this.$buefy.dialog.alert(err.response.data.message);\r\n                }\r\n              );\r\n          },\r\n          (err) => {\r\n            this.$buefy.dialog.alert(err.response.data.message);\r\n          }\r\n        );\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Auth.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Auth.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Auth.vue?vue&type=template&id=500b6827&\"\nimport script from \"./Auth.vue?vue&type=script&lang=js&\"\nexport * from \"./Auth.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}