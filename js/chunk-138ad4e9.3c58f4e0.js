(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-138ad4e9"],{"159b":function(e,t,s){var r=s("da84"),a=s("fdbc"),i=s("17c2"),n=s("9112");for(var l in a){var d=r[l],c=d&&d.prototype;if(c&&c.forEach!==i)try{n(c,"forEach",i)}catch(o){c.forEach=i}}},"17c2":function(e,t,s){"use strict";var r=s("b727").forEach,a=s("a640"),i=s("ae40"),n=a("forEach"),l=i("forEach");e.exports=n&&l?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},4160:function(e,t,s){"use strict";var r=s("23e7"),a=s("17c2");r({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},"4de4":function(e,t,s){"use strict";var r=s("23e7"),a=s("b727").filter,i=s("1dde"),n=s("ae40"),l=i("filter"),d=n("filter");r({target:"Array",proto:!0,forced:!l||!d},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},5530:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));s("a4d3"),s("4de4"),s("4160"),s("e439"),s("dbb4"),s("b64b"),s("159b");function r(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){r(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}},"6c7a":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"presets"}},[e.$store.state.presets.loading||e.$store.state.presetSchedules.loading?e._e():s("div",{staticClass:"box",attrs:{id:"presetSelector"}},[s("b-field",{attrs:{label:"Preset"}},[s("b-select",{attrs:{placeholder:"select a preset"},on:{input:function(t){return e.initUpdate()}},model:{value:e.selectedPreset,callback:function(t){e.selectedPreset=t},expression:"selectedPreset"}},e._l(e.presets,(function(t){return s("option",{key:t.presetId,domProps:{value:t}},[e._v(" "+e._s(t.presetName)+" ")])})),0)],1),s("b-field",{attrs:{label:"New Preset"}},[s("b-input",{attrs:{required:"",maxlength:"30",placeholder:"New Preset Name"},nativeOn:{input:function(t){return e.validatePresetName(t.target.validity.valid)}},model:{value:e.newPresetName,callback:function(t){e.newPresetName=t},expression:"newPresetName"}})],1),s("b-button",{staticClass:"is-success",attrs:{disabled:!e.newPresetValid},on:{click:function(t){return e.addPreset()}}},[e._v("Save")])],1),s("b-skeleton",{attrs:{size:"is-large",active:e.$store.state.presets.loading||e.$store.state.presetSchedules.loading,count:2}}),e.$store.state.presetSchedules.loading?e._e():s("div",{staticClass:"box",attrs:{id:"presetEditor"}},[e.selectedPreset.presetId?s("div",{staticClass:"columns is-multiline",attrs:{id:"controls"}},[s("b-button",{staticClass:"column is-half is-success",on:{click:function(t){return e.validateAllSchedules()}}},[e._v("Save Changes")]),s("b-button",{staticClass:"column is-half is-danger",on:{click:function(t){return e.confirmDeletePreset(e.selectedPreset.presetId)}}},[e._v("DeletePreset")])],1):e._e(),e.selectedPreset.presetId?s("h2",{staticClass:"subtitle"},[e._v(" Schedule New Exercise ")]):e._e(),e.selectedPreset.presetId?s("div",{staticClass:"columns is-multiline"},[s("b-field",{staticClass:"column",attrs:{label:"days from start"}},[s("b-input",{attrs:{type:"number",min:"0",max:"180",placeholder:"days from start date",required:""},nativeOn:{input:function(t){return e.validateDayFromStart(t.target.validity.valid,e.newSchedule)}},model:{value:e.newSchedule.dayFromStart,callback:function(t){e.$set(e.newSchedule,"dayFromStart",t)},expression:"newSchedule.dayFromStart"}})],1),s("b-field",{staticClass:"column",attrs:{label:"set"}},[s("b-input",{attrs:{type:"number",min:"1",max:"10",placeholder:"set",required:""},nativeOn:{input:function(t){return e.validateSetNumber(t.target.validity.valid,e.newSchedule)}},model:{value:e.newSchedule.setNumber,callback:function(t){e.$set(e.newSchedule,"setNumber",t)},expression:"newSchedule.setNumber"}})],1),s("b-field",{staticClass:"column is-one-quarter",attrs:{label:"exercise"}},[s("b-select",{attrs:{placeholder:"select exercise",required:""},nativeOn:{input:function(t){return e.validateExercise(t.target.validity.valid,e.newSchedule)}},model:{value:e.newSchedule.exercise,callback:function(t){e.$set(e.newSchedule,"exercise",t)},expression:"newSchedule.exercise"}},e._l(e.filteredExercises,(function(t){return s("option",{key:t.exerciseId,domProps:{value:t}},[e._v(" "+e._s(t.exerciseName)+" ")])})),0)],1),s("b-field",{staticClass:"column",attrs:{label:"reps",grouped:""}},[s("b-input",{attrs:{type:"number",min:"1",max:"999",placeholder:"reps",required:""},nativeOn:{input:function(t){return e.validateReps(t.target.validity.valid,e.newSchedule)}},model:{value:e.newSchedule.reps,callback:function(t){e.$set(e.newSchedule,"reps",t)},expression:"newSchedule.reps"}}),s("p",{staticClass:"control"},[s("b-button",{staticClass:"is-success is-vcentered",attrs:{disabled:!e.newSchedule.valid},on:{click:function(t){return e.addNewSchedule(e.newSchedule)}}},[e._v("schedule")])],1)],1)],1):e._e(),e.selectedPreset.presetId?s("h2",{staticClass:"subtitle"},[e._v("Edit Schedules")]):e._e(),e._l(e.selectedPreset.schedules,(function(t,r){return s("div",{key:r,staticClass:"columns is-multiline"},[s("b-field",{staticClass:"column",attrs:{label:"days from start"}},[s("b-input",{attrs:{disabled:"",type:"number",min:"0",max:"180",placeholder:"days from start date",required:""},model:{value:t.dayFromStart,callback:function(s){e.$set(t,"dayFromStart",s)},expression:"schedule.dayFromStart"}})],1),s("b-field",{staticClass:"column",attrs:{label:"set"}},[s("b-input",{attrs:{type:"number",min:"1",max:"10",placeholder:"set",required:""},nativeOn:{input:function(s){return e.validateSetNumber(s.target.validity.valid,t)}},model:{value:t.setNumber,callback:function(s){e.$set(t,"setNumber",s)},expression:"schedule.setNumber"}})],1),s("b-field",{staticClass:"column is-one-quarter",attrs:{label:"exercise"}},[s("b-select",{attrs:{placeholder:"select exercise",required:""},nativeOn:{input:function(s){return e.validateExercise(s.target.validity.valid,t)}},model:{value:t.exercise,callback:function(s){e.$set(t,"exercise",s)},expression:"schedule.exercise"}},e._l(e.filteredExercises,(function(t){return s("option",{key:t.exerciseId,domProps:{value:t}},[e._v(" "+e._s(t.exerciseName)+" ")])})),0)],1),s("b-field",{staticClass:"column",attrs:{label:"reps",grouped:""}},[s("b-input",{attrs:{type:"number",min:"1",max:"999",placeholder:"reps",required:""},nativeOn:{input:function(s){return e.validateReps(s.target.validity.valid,t)}},model:{value:t.reps,callback:function(s){e.$set(t,"reps",s)},expression:"schedule.reps"}}),s("p",{staticClass:"control"},[s("b-button",{staticClass:"is-danger is-vcentered",on:{click:function(s){return e.deleteScheduleHandler(t)}}},[e._v("Delete")])],1)],1)],1)})),s("b-skeleton",{attrs:{size:"is-large",active:e.$store.state.presetSchedules.loading,count:2}})],2)],1)},a=[],i=(s("c975"),s("a434"),s("5530")),n=s("b85c"),l={data:function(){return{selectedPreset:{},presets:[],presetSchedulesToSave:[],presetSchedulesToDelete:[],filteredExercises:[],newPresetName:null,newPresetValid:!1,newSchedule:{dayFromStart:0,scheduleId:null,setNumber:0,reps:0,presetId:null,exerciseValid:!1,setValid:!1,dayFromStartValid:!0,repsValid:!1,valid:!1}}},created:function(){this.filterExercises(),this.initPresets()},methods:{validatePresetName:function(e){this.newPresetValid=e},validateSchedule:function(e){e.exerciseValid&&e.setValid&&e.dayFromStartValid&&e.repsValid?e.valid=!0:e.valid=!1,Object.prototype.hasOwnProperty.call(e,"changed")&&(e.changed=!0)},validateDayFromStart:function(e,t){t.dayFromStartValid=e,this.validateSchedule(t)},validateReps:function(e,t){t.repsValid=e,this.validateSchedule(t)},validateSetNumber:function(e,t){t.setValid=e,this.validateSchedule(t)},validateExercise:function(e,t){t.exerciseValid=e,this.validateSchedule(t)},validateAllSchedules:function(){var e,t=Object(n["a"])(this.selectedPreset.schedules);try{for(t.s();!(e=t.n()).done;){var s=e.value;if(!s.valid)return this.$buefy.dialog.alert("one of the scheduled exercises is invalid, please update it and try again.")}}catch(r){t.e(r)}finally{t.f()}this.updatePreset()},confirmDeletePreset:function(e){var t=this;this.$buefy.dialog.confirm({title:"Delete Preset?",message:"Are you sure you want to <b>delete</b> this preset? This action cannot be undone.",confirmText:"Delete Preset",type:"is-danger",hasIcon:!0,onConfirm:function(){return t.deletePreset(e)}})},addNewSchedule:function(){var e={dayFromStart:this.newSchedule.dayFromStart,scheduleId:null,setNumber:this.newSchedule.setNumber,reps:this.newSchedule.reps,presetId:this.selectedPreset.presetId,exercise:this.newSchedule.exercise,exerciseValid:!0,setValid:!0,dayFromStartValid:!0,repsValid:!0,changed:!0,valid:!0};this.selectedPreset.schedules.push(e),this.selectedPreset.schedules.sort((function(e,t){return e.dayFromStart!==t.dayFromStart?e.dayFromStart-t.dayFromStart:e.setNumber-t.setNumber})),this.newSchedule={dayFromStart:0,scheduleId:null,setNumber:0,reps:0,presetId:null,exerciseValid:!1,setValid:!1,dayFromStartValid:!0,repsValid:!1,valid:!1}},deleteScheduleHandler:function(e){var t=this.selectedPreset.schedules.indexOf(e);this.selectedPreset.schedules.splice(t,1),e.scheduleId&&this.presetSchedulesToDelete.push(e.scheduleId)},initUpdate:function(){this.presetSchedulesToSave=new Array,this.presetSchedulesToDelete=new Array,this.newPresetName=null,this.newPresetValid=!1,this.selectedPreset.schedules.sort((function(e,t){return e.dayFromStart!==t.dayFromStart?e.dayFromStart-t.dayFromStart:e.setNumber-t.setNumber}))},filterExercises:function(){var e,t=Object(n["a"])(this.$store.state.exercises.data);try{for(t.s();!(e=t.n()).done;){var s=e.value;"LIVE"!==s.exerciseType&&this.filteredExercises.push(s)}}catch(r){t.e(r)}finally{t.f()}},initPresets:function(){this.presets=new Array,this.selectedPreset={};var e,t=Object(n["a"])(this.$store.state.presets.data);try{for(t.s();!(e=t.n()).done;){var s=e.value,r=Object(i["a"])(Object(i["a"])({},s),{},{schedules:[]});r=this.mapSchedules(r),this.presets.push(r)}}catch(a){t.e(a)}finally{t.f()}},mapSchedules:function(e){var t,s=Object(n["a"])(this.$store.state.presetSchedules.data);try{for(s.s();!(t=s.n()).done;){var r=t.value;r.presetId===e.presetId&&(r=this.mapExercise(r),e.schedules.push(r))}}catch(a){s.e(a)}finally{s.f()}return e},mapExercise:function(e){var t,s=Object(n["a"])(this.$store.state.exercises.data);try{for(s.s();!(t=s.n()).done;){var r=t.value;r.exerciseId===e.exerciseId&&(e={dayFromStart:e.dayFromStart,scheduleId:e.scheduleId,setNumber:e.setNumber,reps:e.reps,presetId:e.presetId,exercise:Object(i["a"])({},r),exerciseValid:!0,setValid:!0,dayFromStartValid:!0,repsValid:!0,changed:!1,valid:!0})}}catch(a){s.e(a)}finally{s.f()}return e},addPreset:function(){var e=this,t={presetName:this.newPresetName};this.$store.dispatch("setLoading",{phase:"setLoading",type:"presets"}),this.axios.post("/presets/new",t,{headers:{Authorization:"Bearer "+this.$store.state.authToken}}).then((function(t){console.log(t),e.axios.get("/presets/all",{headers:{Authorization:"Bearer "+e.$store.state.authToken}}).then((function(t){e.$store.dispatch("fetchPresets",t.data),e.$store.dispatch("setLoading",{phase:"setLoaded",type:"presets"}),e.initPresets(),e.presetSchedulesToSave=new Array,e.presetSchedulesToDelete=new Array,e.newPresetName=null,e.newPresetValid=!1}),(function(t){e.$buefy.dialog.alert(t.response.data.message),e.$store.dispatch("setLoading",{phase:"setLoaded",type:"presets"})}))}),(function(t){e.$buefy.dialog.alert(t.response.data.message),e.$store.dispatch("setLoading",{phase:"setLoaded",type:"presets"})}))},deletePreset:function(e){var t=this;this.$store.dispatch("setLoading",{phase:"setLoading",type:"presets"}),this.axios.post("/presets/delete/"+e,null,{headers:{Authorization:"Bearer "+this.$store.state.authToken}}).then((function(e){console.log(e),t.axios.get("/presets/all",{headers:{Authorization:"Bearer "+t.$store.state.authToken}}).then((function(e){t.$store.dispatch("fetchPresets",e.data),t.$store.dispatch("setLoading",{phase:"setLoaded",type:"presets"}),t.initPresets(),t.presetSchedulesToSave=new Array,t.presetSchedulesToDelete=new Array,t.newPresetName=null,t.newPresetValid=!1}),(function(e){t.$buefy.dialog.alert(e.response.data.message),t.$store.dispatch("setLoading",{phase:"setLoaded",type:"presets"})}))}),(function(e){t.$buefy.dialog.alert(e.response.data.message),t.$store.dispatch("setLoading",{phase:"setLoaded",type:"presets"})}))},updatePreset:function(){this.deleteSelectedSchedules(this.presetSchedulesToDelete);var e,t=Object(n["a"])(this.selectedPreset.schedules);try{for(t.s();!(e=t.n()).done;){var s=e.value;if(s.changed){var r={dayFromStart:s.dayFromStart,exerciseId:s.exercise.exerciseId,scheduleId:s.scheduleId,setNumber:s.setNumber,reps:s.reps,presetId:s.presetId};this.presetSchedulesToSave.push(r)}}}catch(a){t.e(a)}finally{t.f()}this.updateSelectedSchedules(this.presetSchedulesToSave)},deleteSelectedSchedules:function(e){var t=this;e.length>0&&(this.$store.dispatch("setLoading",{phase:"setLoading",type:"presetSchedules"}),this.axios.post("/preset_schedules/groupDelete/",e,{headers:{Authorization:"Bearer "+this.$store.state.authToken}}).then((function(e){console.log(e),t.axios.get("/preset_schedules/allschedules",{headers:{Authorization:"Bearer "+t.$store.state.authToken}}).then((function(e){t.$store.dispatch("fetchPresetSchedules",e.data),t.$store.dispatch("setLoading",{phase:"setLoaded",type:"presetSchedules"}),t.initPresets(),t.presetSchedulesToSave=new Array,t.presetSchedulesToDelete=new Array,t.newPresetName=null,t.newPresetValid=!1}),(function(e){t.$buefy.dialog.alert(e.response.data.message),t.$store.dispatch("setLoading",{phase:"setLoaded",type:"presetSchedules"})}))}),(function(e){t.$buefy.dialog.alert(e.response.data.message),t.$store.dispatch("setLoading",{phase:"setLoaded",type:"presetSchedules"})})))},updateSelectedSchedules:function(e){var t=this;e.length>0&&(this.$store.dispatch("setLoading",{phase:"setLoading",type:"presetSchedules"}),this.axios.post("/preset_schedules/groupUpdate/",e,{headers:{Authorization:"Bearer "+this.$store.state.authToken}}).then((function(e){console.log(e),t.axios.get("/preset_schedules/allschedules",{headers:{Authorization:"Bearer "+t.$store.state.authToken}}).then((function(e){t.$store.dispatch("fetchPresetSchedules",e.data),t.$store.dispatch("setLoading",{phase:"setLoaded",type:"presetSchedules"}),t.initPresets(),t.presetSchedulesToSave=new Array,t.presetSchedulesToDelete=new Array,t.newPresetName=null,t.newPresetValid=!1}),(function(e){t.$buefy.dialog.alert(e.response.data.message),t.$store.dispatch("setLoading",{phase:"setLoaded",type:"presetSchedules"})}))}),(function(e){t.$buefy.dialog.alert(e.response.data.message),t.$store.dispatch("setLoading",{phase:"setLoaded",type:"presetSchedules"})})))}}},d=l,c=s("2877"),o=Object(c["a"])(d,r,a,!1,null,null,null);t["default"]=o.exports},a434:function(e,t,s){"use strict";var r=s("23e7"),a=s("23cb"),i=s("a691"),n=s("50c4"),l=s("7b0b"),d=s("65f0"),c=s("8418"),o=s("1dde"),u=s("ae40"),h=o("splice"),p=u("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,b=Math.min,m=9007199254740991,v="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!h||!p},{splice:function(e,t){var s,r,o,u,h,p,y=l(this),S=n(y.length),g=a(e,S),x=arguments.length;if(0===x?s=r=0:1===x?(s=0,r=S-g):(s=x-2,r=b(f(i(t),0),S-g)),S+s-r>m)throw TypeError(v);for(o=d(y,r),u=0;u<r;u++)h=g+u,h in y&&c(o,u,y[h]);if(o.length=r,s<r){for(u=g;u<S-r;u++)h=u+r,p=u+s,h in y?y[p]=y[h]:delete y[p];for(u=S;u>S-r+s;u--)delete y[u-1]}else if(s>r)for(u=S-r;u>g;u--)h=u+r-1,p=u+s-1,h in y?y[p]=y[h]:delete y[p];for(u=0;u<s;u++)y[u+g]=arguments[u+2];return y.length=S-r+s,o}})},a640:function(e,t,s){"use strict";var r=s("d039");e.exports=function(e,t){var s=[][e];return!!s&&r((function(){s.call(null,t||function(){throw 1},1)}))}},b64b:function(e,t,s){var r=s("23e7"),a=s("7b0b"),i=s("df75"),n=s("d039"),l=n((function(){i(1)}));r({target:"Object",stat:!0,forced:l},{keys:function(e){return i(a(e))}})},c975:function(e,t,s){"use strict";var r=s("23e7"),a=s("4d64").indexOf,i=s("a640"),n=s("ae40"),l=[].indexOf,d=!!l&&1/[1].indexOf(1,-0)<0,c=i("indexOf"),o=n("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:d||!c||!o},{indexOf:function(e){return d?l.apply(this,arguments)||0:a(this,e,arguments.length>1?arguments[1]:void 0)}})},dbb4:function(e,t,s){var r=s("23e7"),a=s("83ab"),i=s("56ef"),n=s("fc6a"),l=s("06cf"),d=s("8418");r({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(e){var t,s,r=n(e),a=l.f,c=i(r),o={},u=0;while(c.length>u)s=a(r,t=c[u++]),void 0!==s&&d(o,t,s);return o}})},e439:function(e,t,s){var r=s("23e7"),a=s("d039"),i=s("fc6a"),n=s("06cf").f,l=s("83ab"),d=a((function(){n(1)})),c=!l||d;r({target:"Object",stat:!0,forced:c,sham:!l},{getOwnPropertyDescriptor:function(e,t){return n(i(e),t)}})}}]);
//# sourceMappingURL=chunk-138ad4e9.3c58f4e0.js.map